
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Backend API documentation &#8212; test.ai SDK API 0.16 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How to implement a SDK in your own language and framework" href="creating_a_SDK.html" />
    <link rel="prev" title="Welcome to test.ai SDK’s documentation!" href="../index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="backend-api-documentation">
<h1>Backend API documentation<a class="headerlink" href="#backend-api-documentation" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="api.v1.backend.add_action">
<span class="sig-prename descclassname"><span class="pre">api.v1.backend.</span></span><span class="sig-name descname"><span class="pre">add_action</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.v1.backend.add_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a bounding box to a known screenshot uuid (screenshot_uuid is called key in the parameters).
Bounding boxes are also called action_info.
If the bounding box has never been seen and the label is not frozen, training of a new classifier including this new data will be triggered.</p>
<dl class="simple">
<dt>Route:</dt><dd><p>POST /add_action</p>
</dd>
<dt>Parameters (JSON):</dt><dd><p>Required: ‘key’, ‘api_key’, ‘label’, ‘x’, ‘y’, ‘width’, ‘height’</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.v1.backend.classify">
<span class="sig-prename descclassname"><span class="pre">api.v1.backend.</span></span><span class="sig-name descname"><span class="pre">classify</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.v1.backend.classify" title="Permalink to this definition">¶</a></dt>
<dd><p>Classifies a screenshot given a label. In other words, tries to detect the element called label on the screenshot and return the bounding box.
The screenshot must be in b64 format.
In the backend, we first check if this screenshot has an action_info (bounding box) attached to it, if yes we return that, second we check the cache and finally if it’s not cached the classifier for this label is pulled and run on the screenshot.
If the label is not frozen, the screenshot is also saved and added to the dataset for that label, without any bounding box (so that it can be fixed if the prediction is unsuccessful by adding a bounding box later).</p>
<dl>
<dt>Route:</dt><dd><p>POST /classify</p>
</dd>
<dt>Parameters (FORM data: request.form is used on the backend):</dt><dd><p>Required: ‘screenshot’, ‘api_key’, ‘label’</p>
<p>Optional: ‘source’</p>
</dd>
<dt>Returns (JSON):</dt><dd><p>‘success’, ‘key’ (screenshot_uuid), ‘elem’ (bounding box), ‘message’ (additional info)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.v1.backend.check_screenshot_exists">
<span class="sig-prename descclassname"><span class="pre">api.v1.backend.</span></span><span class="sig-name descname"><span class="pre">check_screenshot_exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.v1.backend.check_screenshot_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a screenshot exists. If label is specified and there is an action_info for that screenshots the bounding box is returned.
If the label is frozen, success is always True (that is necessary for the SDK to be backwards compatible).</p>
<dl>
<dt>Route:</dt><dd><p>POST /check_screenshot_exists</p>
</dd>
<dt>Parameters (JSON):</dt><dd><p>Required: ‘screenshot_uuid’, ‘api_key’</p>
<p>Optional: ‘label’</p>
</dd>
<dt>Returns:</dt><dd><p>success: True if screenshot exists or label is frozen, False otherwise</p>
<p>box (optional): the bounding box if found for that screenshot</p>
<p>message: additional information such as ‘frozen label’</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.v1.backend.upload_screenshot">
<span class="sig-prename descclassname"><span class="pre">api.v1.backend.</span></span><span class="sig-name descname"><span class="pre">upload_screenshot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.v1.backend.upload_screenshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Uploads a screenshot to the user’s account and registers it under the given label.</p>
<dl>
<dt>Route:</dt><dd><p>POST /upload_screenshot</p>
</dd>
<dt>Parameters (JSON):</dt><dd><p>Required: ‘screenshot’, ‘api_key’, ‘label’</p>
<p>Optional: ‘screenshot_uuid’ (currently unused), ‘source’ (page source), ‘test_case_uuid’ (to add the screenshot to a test case)</p>
</dd>
<dt>Returns:</dt><dd><p>success: True if the screenshot was successfully uploaded, False otherwise</p>
<p>key: The screenshot_uuid.</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">test.ai SDK API</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Backend API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_a_SDK.html">How to implement a SDK in your own language and framework</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../index.html" title="previous chapter">Welcome to test.ai SDK’s documentation!</a></li>
      <li>Next: <a href="creating_a_SDK.html" title="next chapter">How to implement a SDK in your own language and framework</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Etienne DEGUINE (etienne@test.ai), Alexander WU (alec@test.ai), Chris NAVRIDES (chris@test.ai).
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/api_backend/backend.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>